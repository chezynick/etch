<!DOCTYPE html>
<header>
<title>Etch-a-Sketch</title>
<style>
body {font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
display:flex; width:100%; flex-direction:row; flex-wrap: wrap; justify-content:space-evenly; align-items: center; margin:0; padding:0; background-color: rgb(199, 199, 199);}
#container {display:flex; flex-direction: row; flex-wrap:wrap; background-color:rgb(239, 247, 195); align-content: space-between;
 border:30px solid rgb(173, 33, 28); border-radius:5%;width:576px;height:auto; margin:0; padding:0; margin-right:10%;}

#box { background-color: rgb(239, 247, 195);}
button {border:5px solid #ad211c;border-radius:2px;}

#newColor {margin-bottom:30px;margin-top:5px;border:5px solid rgb(173, 33, 28);border-radius:2px;}
#leftside {max-height:330px; margin-top:auto; margin-bottom:auto;display:flex; flex-direction: column; 
justify-content: space-around; align-content: center;text-align:center; margin-left:auto; margin-right:auto;}

</style>

</header>
<body>
    
   <div id="leftside" >
      <fieldset>
       <div>
        
    <h1 >Etch-a-Sketch</h1>
    <h3>2020</h3>
    </div>
    
    <div>
    <p >Choose a box size</p>
    <button id='resize' type="block" input="button">Resize Canvas</button>
    </div>

    <form >
        
        <h3>choose a color</h3>
        <label for="favcolor">Which color do you want to use?</label><br>
        <input type="color" id="favcolor" name="favcolor" value="#ad211c"><br>
        <input type="submit" value="Submit" id='newColor'><br>
        <input type="checkbox" value="submit" id="random" name="random">
        <label for name = "random">Random Color?</label><br>
        <input type="checkbox" value="submit" id="eraser" name="eraser">
        <label for name = "eraser">Erase</label>
        </fieldset>
      </form>
</div>
<div id="container"></div>

</div>

<script>
    //get container element
const container = document.getElementById('container');
// create div element loop to create 256 boxes
for (var i=1;i <=4096 ;i++){
// create box div
var box = document.createElement('div');

//add class box to div

box.setAttribute('id','box');
//attach box to container
container.appendChild(box);
//add width/height to boxes
box.style.width = '9px';
box.style.height = '9px';
}



//add event listener on resize button
document.getElementById('resize').addEventListener('click', reSizeBox);
//create resize function with prompt=newsize value
function reSizeBox(){
    //clear current contents
   var newsheet = document.getElementById('container');
   newsheet.innerHTML='';
    const newSize = prompt ('how many squares wide would you like the Canvas to be? between 2 and 150');
//add validation for prompt to ensure is number and between 2 and 100?
if (newSize <=1 || newSize >150) {
reSizeBox()
}
else if (newSize ==""){
    reSizeBox()
}
else {
 //new function to divide container w/h by newize, also to sq newsize and op to create new boxes 
   var newDimen = 576/newSize;
   console.log(newDimen);
   const canvasSize = newSize * newSize;
    //get container element
 
    const container = document.getElementById('container');

// create div element loop to create inputted# of boxes
for (var i=1;i <=canvasSize ;i++){

// create box div
    
    var box = document.createElement('div');

//add class box to div

     box.setAttribute('id','box');
    

     
//attach box to container
container.appendChild(box);

//once loop ensure new boxes w/h are equal to newsize
     box.style.width = newDimen + 'px';
     box.style.height = newDimen +'px';
     
}
}
}
var button = document.getElementById('container').addEventListener('mouseover',buttonclick);
function buttonclick(e){
   console.log(e.target);

   //add random color function
    let rbutton = document.getElementById('random');
    let ersbutton =document.getElementById('eraser');
   if (rbutton.checked){
     var x = Math. floor(Math. random() * 256);
    var y = Math. floor(Math. random() * 256);
     var z = Math. floor(Math. random() * 256);
 var bgColor = "rgb(" + x + "," + y + "," + z + ")";
   e.target.style.backgroundColor = bgColor;
    }
    else if (ersbutton.checked){
        e.target.style.backgroundColor = "rgb(239, 247, 195)";
    }
else {
   let bgColor = document.getElementById('favcolor').value;
 e.target.style.backgroundColor = bgColor;
    }
}





</script>
</body>

